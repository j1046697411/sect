## 时间流逝计算错误

> 创建时间: 2026-02-23
> 分类: lessons
> 状态: active
> 标签: #bug #时间系统 #单位转换

**问题/背景**:
游戏循环中正常速度下时间不流逝，玩家无法正常游戏。

**错误代码**:
```kotlin
// 错误：单位混淆
hoursToAdvance = daysPerSecond / 24  // 5天/秒 → 0.2小时/tick（应为5小时）
```

**正确做法**:
```kotlin
// 正确：考虑 tick 频率
hoursPerTick = (daysPerSecond * 24) / ticksPerSecond
```

**教训**:
- 时间单位转换时要明确每次 tick 推进的实际量
- 写完时间相关代码要手动验算边界情况
- 用具体数值验证：5天/秒 = 120小时/秒 = 120小时/20tick = 6小时/tick

**关联记忆**: 无
